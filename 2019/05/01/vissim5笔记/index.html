<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.0.6" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.6">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.6" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.0.6',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="README本文记录在学习使用vissim过程中的操作心得">
<meta name="keywords" content="学习笔记,专业软件">
<meta property="og:type" content="article">
<meta property="og:title" content="vissim笔记">
<meta property="og:url" content="http://yoursite.com/2019/05/01/vissim5笔记/index.html">
<meta property="og:site_name" content="Cheng6774_blog">
<meta property="og:description" content="README本文记录在学习使用vissim过程中的操作心得">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-05-29T03:21:51.081Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="vissim笔记">
<meta name="twitter:description" content="README本文记录在学习使用vissim过程中的操作心得">






  <link rel="canonical" href="http://yoursite.com/2019/05/01/vissim5笔记/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>vissim笔记 | Cheng6774_blog</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> 

<div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Cheng6774_blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
          
  <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>
</li>

      

      
    </ul>
  

  

  
</nav>


  



 </div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/05/01/vissim5笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cheng6774">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cheng6774_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">vissim笔记</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-05-01T23:03:04+08:00">2019-05-01</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="README"><a href="#README" class="headerlink" title="README"></a>README</h1><p>本文记录在学习使用vissim过程中的操作心得</p>
<a id="more"></a>
<h1 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h1><p>vissim多用右键绘图，右键点击空白处可查看该按键的属性<br>导入底图操作：查看——背景——编辑——读取图片，在比例中画出实际一条车道的宽度并设置实际距离，保存后即可<br>点击“缩放”按钮后按住鼠标左键不动框选可以缩放某个区域<br>单击“显示整个路网”按钮可以将整个路网显示在画面<br>shift+鼠标左键可以移动对象<br>滚动鼠标滚轮进行放大缩小<br>单击左侧对象按钮后在空白图案处右键可以弹出相应类型所有对象的属性对话框<br>在仿真——参数中具体设置仿真的属性<br>要想加快仿真速度，可以放大局部空白处，避免路段显示在仿真画面中</p>
<h1 id="车道线-车道连接器-连接单车道"><a href="#车道线-车道连接器-连接单车道" class="headerlink" title="车道线/车道连接器/连接单车道"></a>车道线/车道连接器/连接单车道</h1><p>利用路段/连接器可以画出车道线<br>用路段/连接器先画出路段，用连接器连接交叉口各方向道路，连接器只能连接相同数量的车道<br>单击路段的两端箭头，可以拖拽设置路段长度和方向<br>路段的车行方向随绘制时鼠标拖拽方向决定<br>绘制车道后在对话框可以产生对向车道，沿鼠标拖拽方向的左侧是原车道方向，右侧是对向车道<br>路段连接器的首尾段都要落在两个路段上<br>含有多条车道的路段，车行方向的右手边为1车道，左手边为最大车道<br>对于交叉口的展宽段，可先分成不同车道数的路段画出来，然后分别用几个连接器连接<br>在路段上单击鼠标右键可以将路段打断，生成一个节点</p>
<h1 id="车道标志"><a href="#车道标志" class="headerlink" title="车道标志"></a>车道标志</h1><p>单击“车道方向标志”按钮，单击要设置的路段后点击鼠标右键弹出车道方向标志设置对话框，选择不同方向的车道标<br>对于车道之间的标志线，可以利用路段绘制按钮画出一条宽15cm左右的路段，利用“显示”设置里更改贴图图案绘制，同样可以利用link贴图布局人行道和高架桥线路<br>在绘制路段时设置起点和终点的高度，可以设置爬坡路段</p>
<h1 id="3D模式"><a href="#3D模式" class="headerlink" title="3D模式"></a>3D模式</h1><p>在查看——3D/2D模式中可以切换3D/2D模式<br>在3D模式下使用旋转和飞行模式按键可以调整观看角度<br>切换3D模式后在单击鼠标右键可以弹出插入3D模型的对话框，选择要插入的模型<br>插入的模型是V3D文件，需要用3Dmax软件将3ds文件转换</p>
<h1 id="车流量输入"><a href="#车流量输入" class="headerlink" title="车流量输入"></a>车流量输入</h1><p>单击车辆输入按钮，单击选择路段后点鼠标右键，插入车流量输入的起点并设置车流时间和大小<br>选择交通——vehicle composition打开交通组成对话框，新建或编辑想要的车流输入模型</p>
<h1 id="新建车流模型"><a href="#新建车流模型" class="headerlink" title="新建车流模型"></a>新建车流模型</h1><p>traffic——traffic composition新建车流模型，在该模型中新建车辆种类，注意选择车辆种类、速度和百分比</p>
<h1 id="同一车道设置多种车辆流"><a href="#同一车道设置多种车辆流" class="headerlink" title="同一车道设置多种车辆流"></a>同一车道设置多种车辆流</h1><p>方法1：在车流量输入界面单击鼠标右键选择new vehicle input可以在link number 选择车道号为相同或不同车道设置车流输入情况<br>方法2：或者在车流模型中直接设置不同车辆类型的比例</p>
<h1 id="车辆类型和类别概念解析"><a href="#车辆类型和类别概念解析" class="headerlink" title="车辆类型和类别概念解析"></a>车辆类型和类别概念解析</h1><p>vehicle type ——某种特定的交通工具，如汽车/公交车等，具有相同驾驶行为和物理特征的工具<br>vehicle class ——定义由多个vehicle type组成的类别如机动车/非机动等<br>type用于创建交通流（traffic composition），class用于车道限制某类车流通过</p>
<h1 id="新建车辆类型和应用"><a href="#新建车辆类型和应用" class="headerlink" title="新建车辆类型和应用"></a>新建车辆类型和应用</h1><p>1、基础数据——分布——颜色可以创建不同颜色<br>2、基础数据——vehicle type——新建不同type的车辆<br>3、创建车流，交通——traffic composition，创建车流并选择之前不同的type</p>
<h1 id="分时设定车流"><a href="#分时设定车流" class="headerlink" title="分时设定车流"></a>分时设定车流</h1><p>选择车流输入按钮单击鼠标右键弹出设置对话框，在vehicle input对话框的右侧time栏右键新建时间段，可以设置不同的时间段<br>在vehicle input的左侧车道设置不同时间段的车流输入<br>仿真——参数设置仿真时间/仿真速度</p>
<h1 id="为何使用路径决策"><a href="#为何使用路径决策" class="headerlink" title="为何使用路径决策"></a>为何使用路径决策</h1><p>调整车速在traffic composition中选择输入的车流类型，编辑车速</p>
<h1 id="创建路径决策"><a href="#创建路径决策" class="headerlink" title="创建路径决策"></a>创建路径决策</h1><p>选择路径决策按钮后，在决策起始位置单击右键建立决策弹出对话框<br>一般输入车流量使用的路径决策类别（type）是static静态决策<br>局部路径决策是在静态决策基础上建立的，还有如停车决策（与停车有关）和动态决策（编程功能）<br>1、鼠标左键点击决策起点线路<br>2、在路段上鼠标右键创建决策起点，弹出对话框OK<br>3、鼠标左键点击决策终点线路<br>4、鼠标右键创建决策终点<br>5、重复3~4步创建多个终点<br>6、空白处双击鼠标左键结束创建<br>在弹出的属性框中可以选择查看不同的决策路径，红色代表起点，绿色代表终点，黄色线段代表决策路径</p>
<h1 id="如何设置路径决策占比"><a href="#如何设置路径决策占比" class="headerlink" title="如何设置路径决策占比"></a>如何设置路径决策占比</h1><p>在路径决策属性对话框中，在对应的各时间段下，可以分别设置该时间段内不同路径的流量比例</p>
<h1 id="如何设定局部路径决策partial-route"><a href="#如何设定局部路径决策partial-route" class="headerlink" title="如何设定局部路径决策partial route"></a>如何设定局部路径决策partial route</h1><p>先设置静态路径决策才能设置局部路径决策<br>一般局部路径用于模拟设置路段上某车道临时交通管制的情况<br>1、先在已经设置好的静态路径决策的路段上再画一小段路段<br>2、然后在这一小段路段的前后分别设置决策起点和终点，并在小段路上单击鼠标右键，出现一个节点拖动它设置路径宽度</p>
<h1 id="如何设置停车路径决策parking-route"><a href="#如何设置停车路径决策parking-route" class="headerlink" title="如何设置停车路径决策parking route"></a>如何设置停车路径决策parking route</h1><p>在设置停车路径前首先要画停车场，点击左侧parking lot在路段上拖动绘制停车场<br>可以设置停车场长度和车位长度<br>直接左键可以拖动停车位位置<br>1、右键点击创建路径决策起点<br>2、选择停车决策<br>3、左键双击停车场，高亮蓝色后结束</p>
<h1 id="如何设计减速区"><a href="#如何设计减速区" class="headerlink" title="如何设计减速区"></a>如何设计减速区</h1><p>1、点击左侧reduce speed area 按钮<br>2、起点点击鼠标右键不放拖拽到终点<br>3、弹出的设置对话框点击new新建<br>4、对不同类型的车流设置速度和加速度</p>
<h1 id="如何使用stop-signal"><a href="#如何使用stop-signal" class="headerlink" title="如何使用stop signal"></a>如何使用stop signal</h1><p>在没有信号灯的路口设置停车用<br>1、点击左侧stop signal<br>2、在路段要设置停车让行的地方单击鼠标右键对该车道设置停车信号<br>3、一次只能对一个车道进行设置</p>
<h1 id="dynamic-assignment-动态交通分配"><a href="#dynamic-assignment-动态交通分配" class="headerlink" title="dynamic assignment 动态交通分配"></a>dynamic assignment 动态交通分配</h1><p>在D:\Program Files (x86)\PTV_Uni\VISSIM510\Examples\Training\DynamicAssignment\3Paths<br>路径下有一个3path文件，文件里的路网运行三个不同的路径流量<br>先点击节点按钮，在编辑——edge selection中可以查看每一条路径的节点<br>交通——动态交通分配中配置各种输入和成本<br>1、画出有三个分叉最后汇合的路网<br>2、在主路两个端点设置停车场，注意将停车场选择为zone connecter<br>3、点击左侧节点按钮，然后多次单击鼠标右键画一个框将路网上的节点包围<br>4、在工程文件同一目录下创建动态交通文件格式后缀为fma，内容如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">* Timeintervall</span><br><span class="line">  0.00  1.00</span><br><span class="line">* Factor</span><br><span class="line">  1</span><br><span class="line">* Number of zones %两个停车场</span><br><span class="line">  2</span><br><span class="line">* Zone numbers %两个停车场编号</span><br><span class="line">  1  2</span><br><span class="line">* Values %OD矩阵，P1点到P2点车辆数为500</span><br><span class="line">  0  500</span><br><span class="line">  0  0</span><br></pre></td></tr></table></figure></p>
<p>5、在动态交通对话框中，勾选matrix，点击new选择刚创建的fma文件<br>6、选择成本文件(bew和weg后缀文件)，没有的话新建<br>7、点击4次仿真按钮进行4次仿真<br>8、可以查看bew文件和weg文件的仿真结果</p>
<h1 id="如何使用冲突区域conflict-Area"><a href="#如何使用冲突区域conflict-Area" class="headerlink" title="如何使用冲突区域conflict Area"></a>如何使用冲突区域conflict Area</h1><p>1、点击左侧conflict Area按钮<br>2、在交叉口点击一下鼠标<br>3、多次点击鼠标右键，可以切换不同的让行模式（红色让绿色）<br>4、全红表示不设置优先</p>
<h1 id="如何创建公交站"><a href="#如何创建公交站" class="headerlink" title="如何创建公交站"></a>如何创建公交站</h1><p>1、选择左侧公交站点按钮<br>2、在路段上拖动创建公交站<br>3、注意在弹出的创建公交站窗口选择type，street类型是路边停车，layby类型是港湾停车<br>4、点击左侧公交线路按钮，右键点击创建<br>5、在线路创建窗口点击设置发车时间（rate表示发车间隔，occupancy表示每车人数）</p>
<h1 id="如何使用公交线路"><a href="#如何使用公交线路" class="headerlink" title="如何使用公交线路"></a>如何使用公交线路</h1><p>1、在已经创建好的公交线路上，右键创建一个白色节点<br>2、拖拽该白色节点到公交站的车道上<br>3、公交站为绿色则不停车，红色则为停车<br>4、要想公车路过公交站不停车，双击公交站弹出对话框取消勾选stop active</p>
<h1 id="如何将公交车站加入到公交线路"><a href="#如何将公交车站加入到公交线路" class="headerlink" title="如何将公交车站加入到公交线路"></a>如何将公交车站加入到公交线路</h1><p>1、在已经创建好的公交线路上，右键创建一个白色节点<br>2、拖拽该白色节点到公交站的车道上</p>
<h1 id="如何某一时段同一线路实现发多辆车"><a href="#如何某一时段同一线路实现发多辆车" class="headerlink" title="如何某一时段同一线路实现发多辆车"></a>如何某一时段同一线路实现发多辆车</h1><p>创建公交线路——弹出窗口——开始时间设置——设置公交发车的开始、结束时间和发车频率<br>occupancy——设置车载人数<br>course班次里面设置first第一个编号和step步长<br>自动生成班次后，还可以通过new再手动添加某一个特定时刻的发车（只要重复填写同一个发车时间即可）<br>在基础数据——分布——停车时间设置公交的停车时间分布</p>
<h1 id="交通配时"><a href="#交通配时" class="headerlink" title="交通配时"></a>交通配时</h1><p>信号控制——编辑信号控制机——左侧新建信号控制机，右侧在控制机基础上新建信号灯组<br>一个信号控制机包含几个方向上的信号灯方案，即信号灯组<br>信号灯组中各参数从左至右：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1、红灯/黄灯：设置灯点亮的时间，一般默认为0秒</span><br><span class="line">2、黄灯：设置黄灯持续时间</span><br><span class="line">3、红灯结束时间：设置红灯结束转为绿灯的时刻</span><br><span class="line">4、绿灯结束时间：设置绿灯结束转为黄灯的时刻</span><br></pre></td></tr></table></figure></p>
<p>在信号灯组中设置信号配时方案，一般为周期配时，vas为动态配时<br>周期配时方案中，主要设置红灯结束时间、绿灯结束时间和黄灯时间，注意配时加起来不能超过周期长度<br>一般仿真方案是：先亮红灯到某一时刻——切换绿灯接着亮到某一时刻——切换黄灯——循环红灯</p>
<p>创建完信号灯组后，点击信号灯按钮在路段上创建红绿灯，在弹出的窗口里面选择刚刚的信号控制机和信号灯组方案</p>
<h1 id="signal-control-and-3D-and-block"><a href="#signal-control-and-3D-and-block" class="headerlink" title="signal control and 3D and block"></a>signal control and 3D and block</h1><p>1、选中信号灯按钮，在空白地方单击右键，选中信号灯编辑，在弹出界面点击新建3D信号灯按钮<br>2、选择信号灯臂和信号灯柱的创建方式<br>3、在弹出的界面选择水平/垂直悬挂方式，选择相应的信号控制机和信号灯组<br>4、在二维模式下，编辑——3D信号灯勾选<br>5、蓝色箭头表示信号灯的朝向，拖拽信号灯臂进行调整<br>6、单击画面上的信号灯表示，弹出灯柱属性界面单击绘有灯柱的画面，拖动信号灯可以设置其在灯臂的位置<br>7、在view——option里面的3D的选项卡里，对交通信号灯的显示样式进行选择，一般选择仅信号灯而没有停车线比较美观（仿真时显示）</p>
<h1 id="添加交通信号灯头-add-signal-header"><a href="#添加交通信号灯头-add-signal-header" class="headerlink" title="添加交通信号灯头 add signal header"></a>添加交通信号灯头 add signal header</h1><p>1、在二维模式下，编辑——3D信号灯勾选<br>2、单击画面上的信号灯表示，弹出灯柱属性界面单击绘有灯柱的画面<br>3、双击信号灯灯臂<br>4、单击添加信号灯即可在同一灯臂添加多个信号灯头</p>
<h1 id="交通信号配时设计"><a href="#交通信号配时设计" class="headerlink" title="交通信号配时设计"></a>交通信号配时设计</h1><p>建立自己的traffic composition需要：<br>1、创建不同的分布，如颜色分布color distribution等<br>2、根据不同的颜色分布建立新的的type<br>3、根据不同的type建立新的的class（class必须含有type否则报错）<br>4、根据不同的class 建立新的vehicle composition<br>5、一般是一个type对应一个class，一个class对应一个vehicle composition<br>建立车模型：基础数据——分布-3Dmodel</p>
<h1 id="数据采集"><a href="#数据采集" class="headerlink" title="数据采集"></a>数据采集</h1><p>左侧数据监测点（data collection point）按钮用来采集该点流量数据<br>1、选中按钮后在采集点右键创建即可<br>2、评价——文件打开窗口勾选数据采集，并点击配置打开配置属性界面<br>3、在输出（output）里面可以勾选原始数据或汇总数据<br>4、点击new新建选取评估点<br>5、点击配置按钮打开，数据检测——配置窗口，将需要检测的参数移动到列布局<br>6、在工程文件同一个目录下查看仿真结果文件</p>
<h1 id="行程时间统计"><a href="#行程时间统计" class="headerlink" title="行程时间统计"></a>行程时间统计</h1><p>1、左侧行程时间按钮用来采集某段路径的行程时间<br>2、选中按钮后在行程起点右键点击<br>3、在行程终点右键点击<br>4、点击完弹出的对话框编辑检测的车辆类别、距离等，记得勾选写入文件<br>5、选择评价——文件打开对话框，勾选行程时间travel time，点击选项后面的配置<br>6、在配置界面设置监测点、输出汇总还是原始数据等<br>7、仿真完成后会产生一个后缀名为rsz的结果文件</p>
<h1 id="车辆排队时间统计"><a href="#车辆排队时间统计" class="headerlink" title="车辆排队时间统计"></a>车辆排队时间统计</h1><p>1、左侧排队计数器（queue counter）按钮用来采集排队长度<br>2、选中按钮后在排队统计点右键创建<br>3、选择评价——文件打开对话框，勾选排队长度queue length，点击选项后面的配置<br>4、设置排队的定义，如形成队伍的长度、车速等<br>5、仿真完成后会产生一个后缀名为stz的结果文件</p>
<h1 id="节点评估"><a href="#节点评估" class="headerlink" title="节点评估"></a>节点评估</h1><p>1、左侧节点（nodes)按钮也是用来采集数据的，区别是它可以汇总数据监测/行程时间/车辆排队的功能<br>2、在要创建节点的范围用节点圈起来<br>3、选择评价——文件打开对话框，勾选节点选项，点击选项后面的配置<br>4、将选择参数栏中要评估的参数添加到已选参数里面，选择数据是要原始还是汇总，选择对象<br>5、仿真完成后会产生一个后缀名为knk的结果文件，knr为原始文件，kna为汇总文件<br>6、在配置选项的后面还有过滤选项，点击进行设置</p>
<h1 id="道路优先权priority-rules"><a href="#道路优先权priority-rules" class="headerlink" title="道路优先权priority rules"></a>道路优先权priority rules</h1><p>道路优先权按钮有些地方可以用冲突区域按钮设置优先规则解决，其主要用来主道岔道上的道路优先规则<br>可以设置岔道让行主道时的最小车头时间和距离<br>1、选择道路优先权按钮<br>2、右键点击岔道上的临近冲突点的某个位置<br>3、再右键点击主道上临近冲突点的位置<br>4、弹出设置对话框，设置时间间隔（gap time），车头距离（head way)，最大速度<br>5、车头距离（head way)表示到达车头越过该条线后其他车道必须停下来让行<br>6、设置完后，岔道上会有一条红色的停车让行线，主道有一条绿色线<br>   主道的两条绿色线前面一条是有车越过该线岔道的车必须停车让行<br>   主道的后面一条绿线是车辆越过该线后岔道的车才能进入主道</p>
<h1 id="加载背景图"><a href="#加载背景图" class="headerlink" title="加载背景图"></a>加载背景图</h1><p>通过加载CAD或者地图作为背景可以对照绘制visssim<br>1、选择查看——背景——编辑，单击读取选择图片或CAD文件导入<br>2、选择比例，调出比例尺然后在导入文件上画出一段距离，并定义这段线的实际距离<br>3、点击保存按钮后退出，就按照设定比例导入背景图</p>
<h1 id="dectector和VAP编程"><a href="#dectector和VAP编程" class="headerlink" title="dectector和VAP编程"></a>dectector和VAP编程</h1><p>需要在路上设置感应器，然后在信号灯编辑里面选VAP编程<br>VAP编程需要相应的配置文件和代码库</p>
<h1 id="VAP编程之配置PUA文档文件"><a href="#VAP编程之配置PUA文档文件" class="headerlink" title="VAP编程之配置PUA文档文件"></a>VAP编程之配置PUA文档文件</h1><p>VAP编程信号控制需要编写PUA文件设置信号规则<br>PUA文件中需要声明所有信号灯组和所有相位、起始相位</p>
<p>VAP编程例子<br>背景介绍：在一个十字交叉口，一个方向是铁路火车行驶，一个是汽车行驶<br>平时汽车行驶方向为绿灯，火车行驶方向为红灯<br>在火车行驶的路径上设置两个检测器，检测器1在交叉口前，检测器2在交叉口后<br>利用VAP编程，设置当火车经过检测器1时火车方向绿灯放行，经过检测器2时火车方向红灯，汽车切换回绿灯放行</p>
<p>1、打开信号控制——信号控制机<br>2、新建信号控制机和信号灯组，type模式里面选VAP，周期模式选变量，新建各信号灯组并将最小红绿灯时间设置为1s<br>【在这里，signal group中火车和汽车分别建立一个信号灯组，汽车为1火车为2，最小红绿灯时间1s<br>controller VAP中 program file选择D:\Program Files (x86)\PTV_Uni\VISSIM520\Exe中的vap216.dll<br>interstage file选择工程文件目录下自己创建的.PUA文件<br>Logic file选择工程文件目录下自己创建的.VAP文件】</p>
<p>3、D:\Program Files (x86)\PTV_Uni\VISSIM520\Examples\Training\Railroad\RailCrossing.VAP为模板文件<br>4、复制该目录下后缀名为PUA的文本文件，文件内容如下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$SIGNAL_GROUPS</span><br><span class="line">$        %以&quot;$&quot;为关键字，后面开始进行定义，介于两个$之间的为注释</span><br><span class="line">Car      1 %汽车和铁路分别为一个信号灯组，</span><br><span class="line">Train    2</span><br><span class="line"></span><br><span class="line">$STAGES  %定义了两个相位</span><br><span class="line">$</span><br><span class="line">Stage_1          Car %控制汽车为绿灯，铁路为红灯</span><br><span class="line">red		 Train</span><br><span class="line">Stage_2          Train</span><br><span class="line">red              Car</span><br><span class="line"></span><br><span class="line">$STARTING_STAGE   %初始相位</span><br><span class="line">$</span><br><span class="line">Stage_1</span><br><span class="line"></span><br><span class="line">$INTERSTAGE1   %第一次切换相位</span><br><span class="line">Length [s]             : 5</span><br><span class="line">From Stage             : 1</span><br><span class="line">To Stage               : 2</span><br><span class="line">$</span><br><span class="line">Car  -127 0</span><br><span class="line">Train   5  127</span><br><span class="line"></span><br><span class="line">$INTERSTAGE2   %第二次切换相位</span><br><span class="line">Length [s]             : 2</span><br><span class="line">From Stage             : 2</span><br><span class="line">To Stage               : 1</span><br><span class="line">$</span><br><span class="line">Car  2 127</span><br><span class="line">Train  -127 0</span><br><span class="line"></span><br><span class="line">$END</span><br></pre></td></tr></table></figure></p>
<p>5、在交叉口设置两个检测器，当火车经过某点时绿灯放行，当火车经过交叉口继续行驶到某点切换回红灯<br>6、对上述信号灯切换规则进行写程序进行配置，内容写在后缀名为VAP的文件中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">PROGRAM myprj;</span><br><span class="line">if not init then  %init初始值为0</span><br><span class="line">   set_sig(1,red);   %火车行驶方向为红灯</span><br><span class="line">   set_sig(2,green); %汽车行驶为绿灯</span><br><span class="line">   init:=1  %将inti值赋值为1</span><br><span class="line">end;</span><br><span class="line">if Stage_active(1) then %如果为相位1（火车红灯汽车绿灯）</span><br><span class="line">   if Call(1) then   %如果检测器1检测到信号（火车驶过交叉口前的检测器）</span><br><span class="line">      Interstage(1,2)   %相位1切换为相位2</span><br><span class="line">      end</span><br><span class="line">end;</span><br><span class="line">if Stage_active(2) then %如果为相位2（火车绿灯汽车红灯）</span><br><span class="line">   if Call(2) then   %如果检测器2检测到信号（火车驶过交叉口后的检测器）</span><br><span class="line">      Interstage(2,1)   %相位2切换为相位1</span><br><span class="line">      end</span><br><span class="line">end.</span><br></pre></td></tr></table></figure></p>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/学习笔记/" rel="tag"># 学习笔记</a>
          
            <a href="/tags/专业软件/" rel="tag"># 专业软件</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/03/31/transcad笔记/" rel="next" title="transcad笔记">
                <i class="fa fa-chevron-left"></i> transcad笔记
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/05/01/vissim7笔记/" rel="prev" title="vissim7笔记">
                vissim7笔记 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Cheng6774</p>
              <p class="site-description motion-element" itemprop="description">This is Cheng's blog</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">12</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#README"><span class="nav-number">1.</span> <span class="nav-text">README</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#基本操作"><span class="nav-number">2.</span> <span class="nav-text">基本操作</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#车道线-车道连接器-连接单车道"><span class="nav-number">3.</span> <span class="nav-text">车道线/车道连接器/连接单车道</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#车道标志"><span class="nav-number">4.</span> <span class="nav-text">车道标志</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3D模式"><span class="nav-number">5.</span> <span class="nav-text">3D模式</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#车流量输入"><span class="nav-number">6.</span> <span class="nav-text">车流量输入</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#新建车流模型"><span class="nav-number">7.</span> <span class="nav-text">新建车流模型</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#同一车道设置多种车辆流"><span class="nav-number">8.</span> <span class="nav-text">同一车道设置多种车辆流</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#车辆类型和类别概念解析"><span class="nav-number">9.</span> <span class="nav-text">车辆类型和类别概念解析</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#新建车辆类型和应用"><span class="nav-number">10.</span> <span class="nav-text">新建车辆类型和应用</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#分时设定车流"><span class="nav-number">11.</span> <span class="nav-text">分时设定车流</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#为何使用路径决策"><span class="nav-number">12.</span> <span class="nav-text">为何使用路径决策</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#创建路径决策"><span class="nav-number">13.</span> <span class="nav-text">创建路径决策</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如何设置路径决策占比"><span class="nav-number">14.</span> <span class="nav-text">如何设置路径决策占比</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如何设定局部路径决策partial-route"><span class="nav-number">15.</span> <span class="nav-text">如何设定局部路径决策partial route</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如何设置停车路径决策parking-route"><span class="nav-number">16.</span> <span class="nav-text">如何设置停车路径决策parking route</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如何设计减速区"><span class="nav-number">17.</span> <span class="nav-text">如何设计减速区</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如何使用stop-signal"><span class="nav-number">18.</span> <span class="nav-text">如何使用stop signal</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dynamic-assignment-动态交通分配"><span class="nav-number">19.</span> <span class="nav-text">dynamic assignment 动态交通分配</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如何使用冲突区域conflict-Area"><span class="nav-number">20.</span> <span class="nav-text">如何使用冲突区域conflict Area</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如何创建公交站"><span class="nav-number">21.</span> <span class="nav-text">如何创建公交站</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如何使用公交线路"><span class="nav-number">22.</span> <span class="nav-text">如何使用公交线路</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如何将公交车站加入到公交线路"><span class="nav-number">23.</span> <span class="nav-text">如何将公交车站加入到公交线路</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#如何某一时段同一线路实现发多辆车"><span class="nav-number">24.</span> <span class="nav-text">如何某一时段同一线路实现发多辆车</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#交通配时"><span class="nav-number">25.</span> <span class="nav-text">交通配时</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#signal-control-and-3D-and-block"><span class="nav-number">26.</span> <span class="nav-text">signal control and 3D and block</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#添加交通信号灯头-add-signal-header"><span class="nav-number">27.</span> <span class="nav-text">添加交通信号灯头 add signal header</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#交通信号配时设计"><span class="nav-number">28.</span> <span class="nav-text">交通信号配时设计</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据采集"><span class="nav-number">29.</span> <span class="nav-text">数据采集</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#行程时间统计"><span class="nav-number">30.</span> <span class="nav-text">行程时间统计</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#车辆排队时间统计"><span class="nav-number">31.</span> <span class="nav-text">车辆排队时间统计</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#节点评估"><span class="nav-number">32.</span> <span class="nav-text">节点评估</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#道路优先权priority-rules"><span class="nav-number">33.</span> <span class="nav-text">道路优先权priority rules</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#加载背景图"><span class="nav-number">34.</span> <span class="nav-text">加载背景图</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#dectector和VAP编程"><span class="nav-number">35.</span> <span class="nav-text">dectector和VAP编程</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#VAP编程之配置PUA文档文件"><span class="nav-number">36.</span> <span class="nav-text">VAP编程之配置PUA文档文件</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; 2014 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cheng6774</span>

  

  
</div>



<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_pv"></span>
</span>
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Gemini</a> v6.0.6</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.6"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.6"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.0.6"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.0.6"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.0.6"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.0.6"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.6"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

</body>
</html>
