<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=6.0.6" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.0.6">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.0.6">


  <link rel="mask-icon" href="/images/logo.svg?v=6.0.6" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.0.6',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="README学习 git 相关材料和笔记git 教程">
<meta name="keywords" content="学习笔记,编程">
<meta property="og:type" content="article">
<meta property="og:title" content="git笔记">
<meta property="og:url" content="http://yoursite.com/2019/02/23/git笔记/index.html">
<meta property="og:site_name" content="Cheng6774_blog">
<meta property="og:description" content="README学习 git 相关材料和笔记git 教程">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-05-19T15:21:12.725Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="git笔记">
<meta name="twitter:description" content="README学习 git 相关材料和笔记git 教程">






  <link rel="canonical" href="http://yoursite.com/2019/02/23/git笔记/">



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>git笔记 | Cheng6774_blog</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"> 

<div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Cheng6774_blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        
          
  <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-tags">
    <a href="/tags/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br>分类</a>
</li>

      
        
        
          
  <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>
</li>

      

      
    </ul>
  

  

  
</nav>


  



 </div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/02/23/git笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Cheng6774">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cheng6774_blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">git笔记</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-02-23T23:03:04+08:00">2019-02-23</time>
            

            
            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="README"><a href="#README" class="headerlink" title="README"></a>README</h1><p>学习 git 相关材料和笔记<br><a href="https://backlog.com/git-tutorial/cn/" target="_blank" rel="noopener">git 教程</a>  </p>
<a id="more"></a>
<h1 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"># 打开 git GUI 界面</span><br><span class="line">$ gitk</span><br><span class="line">$ git gui</span><br><span class="line"></span><br><span class="line"># 查找 git 命令对用操作可用 -h</span><br><span class="line"># 对 config 命令查询帮助</span><br><span class="line">$ git confi -h</span><br><span class="line"></span><br><span class="line"># 安装 Git</span><br><span class="line">$ sudo apt install git</span><br><span class="line"></span><br><span class="line"># 打开文件</span><br><span class="line">$ cat text.txt</span><br><span class="line"></span><br><span class="line"># 配置个人信息</span><br><span class="line">$ git config --global user.name &quot;Your Name&quot;</span><br><span class="line">$ git config --global user.email &quot;email@example.com&quot;</span><br><span class="line">    &quot;system&quot;表示系统使用的配置</span><br><span class="line">    &quot;global&quot;表示用户级别使用的配置</span><br><span class="line">    &quot;local&quot;表示当前仓本库使用的配置</span><br><span class="line">    它们的优先等级从上到下依次提高</span><br><span class="line"></span><br><span class="line"># 查看配置信息</span><br><span class="line">$ git config --list</span><br><span class="line"></span><br><span class="line"># 删除某项配置信息</span><br><span class="line">$ git config --unset user.name</span><br><span class="line"></span><br><span class="line"># add 和 commit 同时操作，只针对修改的文件（创建文件不适用）</span><br><span class="line">$ git commit -am &apos;commit-message&apos;</span><br><span class="line"></span><br><span class="line"># 切换目录初始化</span><br><span class="line">$ git init</span><br><span class="line"></span><br><span class="line"># 文件添加到仓库</span><br><span class="line">$ git add -p &lt;file&gt;</span><br><span class="line"></span><br><span class="line"># 将工作区所有修改添加到暂存区</span><br><span class="line">$ git add .</span><br><span class="line"></span><br><span class="line"># 把文件提交到版本库</span><br><span class="line">$ git commit -m &quot;first commit&quot;</span><br><span class="line"></span><br><span class="line"># 修改上次提交的信息</span><br><span class="line">git commit --amend &quot;first commit&quot;</span><br><span class="line"></span><br><span class="line"># 修改提交作者</span><br><span class="line">$ git commit --amend --reset-author</span><br><span class="line"></span><br><span class="line"># 查看仓库当前状态</span><br><span class="line">$ git status</span><br><span class="line"></span><br><span class="line"># 查看 difference</span><br><span class="line">$ git diff</span><br><span class="line"></span><br><span class="line"># 显示从最近到最远的提交日志</span><br><span class="line">$ git log --graph --pretty=oneline --abbrev-commit</span><br><span class="line">$ git log --graph           # 表示图形化显示</span><br><span class="line">$ git log --pretty=oneline  # 表示每次提交单行显示</span><br><span class="line">$ git log --abbrev-commit   # 表示简化显示 commit id</span><br><span class="line"></span><br><span class="line"># 查看命令记录</span><br><span class="line">$ git reflog</span><br><span class="line"></span><br><span class="line"># 查看修改提交人和提交时间</span><br><span class="line">$ git blame text.txt</span><br><span class="line"></span><br><span class="line"># 退回前面提交过的版本</span><br><span class="line">$ git reset --hard HEAD^      # 当前版本 HEAD, 上一个版本 HEAD^, 上上个版本 HEAD^^</span><br><span class="line">$ git reset --hard 130f10a    # 根据 commit id 向前或向后切换提交的版本</span><br><span class="line">$ git reset --hard HEAD~100   # 前第 100 个版本</span><br><span class="line"></span><br><span class="line"># 将之前添加到暂存区 (stage, index) 的内容从暂存区移除到工作区 (unstage)</span><br><span class="line">$ git reset HEAD text.txt</span><br><span class="line"></span><br><span class="line"># 丢弃工作区的某个文件修改，回到最近一次 git commit 或 git add 时的状态：</span><br><span class="line">$ git checkout -- text.txt</span><br><span class="line"></span><br><span class="line"># 删除文件</span><br><span class="line">$ git rm text.txt      （该步骤包括在工作区的删除并提交到暂存区)</span><br><span class="line">  如果使用了 git rm 命令，需要先进行 git reset HEAD 再进行 git checkout</span><br><span class="line">$ rm text.txt          （系统命令，该步骤只是在工作区进行删除)</span><br></pre></td></tr></table></figure>
<h1 id="diff"><a href="#diff" class="headerlink" title="diff"></a>diff</h1><p>原始文件用 - 表示，目标文件用 + 表示<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 简单查看比较，前者原始文件，后者为目标文件</span><br><span class="line">$ diff &lt;file1-name&gt; &lt;file2-name&gt;</span><br><span class="line"></span><br><span class="line"># 逐行查看比较</span><br><span class="line">$ diff -u &lt;file1-name&gt; &lt;file2-name&gt;</span><br><span class="line"></span><br><span class="line"># 比较暂存区和工作区的差别，暂存区为原始文件，工作区为目标文件</span><br><span class="line">$ git diff</span><br><span class="line"></span><br><span class="line"># 比较最新提交版本和工作区的差别，提交版本为原始文件，工作区为目标文件</span><br><span class="line">$ git diff HEAD</span><br><span class="line">$ git diff 54djf  # 换成 commit id 表示某次提交与工作区的差别</span><br><span class="line"></span><br><span class="line"># 比较最新提交版本与暂存区的差别，提交版本为原始文件，暂存区为目标文件</span><br><span class="line">$ git diff --cached</span><br></pre></td></tr></table></figure></p>
<h1 id="分支管理与-stash"><a href="#分支管理与-stash" class="headerlink" title="分支管理与 stash"></a>分支管理与 stash</h1><p>HEAD 指向的是分支当前所处版本状态，master（分支名）指向当前所处分支<br>分支的最佳实践，通常来说分支有如下几种：<br>master 分支：最稳定的分支，生产系统分支，变化最少<br>test 分支：用于测试人员测试<br>develop 分支：变化最频繁，用于开发<br>hotfix 分支：线上系统出问题用于紧急修复的分支  </p>
<p>git 合并原则：三方合并原则<br>只有一个提交人的提交是线性提交<br>当有两个人进行提交，则从原始提交点开始进行分叉出两个新的提交点，合并时将这两个提交点进行合并，则比原始提交点前进了两次提交  </p>
<p>合并 dev 分支到 master 分支时，如果 master 分支的状态没有被更改过，那么这个合并是非常简单的. dev 分支的历史记录包含 master 分支所有的历史记录，所以通过把 master 分支的位置移动到 dev 的最新分支上，Git 就会合并.这样的合并被称为 fast-forward（快进）合并.  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"># 创建并切换 dev 分支</span><br><span class="line">$ git checkout -b dev</span><br><span class="line"></span><br><span class="line"># 相当于 branch＋checkout</span><br><span class="line">$ git branch dev      # 创建分支</span><br><span class="line">$ git checkout dev    # 切换分支</span><br><span class="line"></span><br><span class="line"># 查看所有分支，当前分支前面标有×号</span><br><span class="line">$ git branch</span><br><span class="line"></span><br><span class="line"># 切换到 master 分支</span><br><span class="line">$ git checkout master</span><br><span class="line"></span><br><span class="line"># 合并指定分支到当前分支</span><br><span class="line">$ git merge dev</span><br><span class="line"></span><br><span class="line"># 删除 dev 分支</span><br><span class="line">$ git branch -d dev</span><br><span class="line"></span><br><span class="line"># 强行删除一个没有合并过的分支</span><br><span class="line">$ git branch -D dev</span><br><span class="line"></span><br><span class="line"># 合并 dev 分支，请注意 --no-ff 参数，表示禁用 Fast forward</span><br><span class="line">$ git merge --no-ff -m &quot;merge with no-ff&quot; dev</span><br><span class="line">禁用 Fast forward 合并会比 dev 分支多一次历史提交，即合并也是一次提交</span><br><span class="line"></span><br><span class="line"># 利用 commit id 切换到某次历史提交版本</span><br><span class="line">$ git checkout 67e5d</span><br><span class="line">此时 HEAD 指向一个游离状态的分支，在当前版本进行修改后，通过 add 和 commit 操作进行提交可以创建一个游离的历史提交点，再通过</span><br><span class="line">$ git branch &lt;new-branch-name&gt; &lt;commit-id&gt;</span><br><span class="line">可以通过创建一个分支将这个游离的历史提交点工作内容保存下来</span><br><span class="line"></span><br><span class="line"># 分支改名</span><br><span class="line">$ git branch -m 《原分支名》 《现分支名》</span><br><span class="line"></span><br><span class="line"># 如果需要临时切换到其他分支，可以把当前工作现场先保留</span><br><span class="line">$ git stash</span><br><span class="line"></span><br><span class="line"># 查看工作现场列表</span><br><span class="line">$ git stash list</span><br><span class="line"></span><br><span class="line"># 保存工作现场时加注释</span><br><span class="line">$ git stash save &apos;message&apos;</span><br><span class="line"></span><br><span class="line"># 恢复工作现场</span><br><span class="line">$ git stash pop   # 恢复的同时把 stash 内容也删了</span><br><span class="line">$ git stash apply # 恢复，不删除 stash 的内容，</span><br><span class="line"></span><br><span class="line"># 手动删除 stash 现场（后面的数字时编号）</span><br><span class="line">$ git stash drop@&#123;0&#125;</span><br><span class="line"></span><br><span class="line"># 可以多次 stash，恢复时指定恢复某个 stash</span><br><span class="line">$ git stash apply stash@&#123;0&#125;</span><br></pre></td></tr></table></figure>
<h1 id="标签管理"><a href="#标签管理" class="headerlink" title="标签管理"></a>标签管理</h1><p>标签有两种：轻量级标签 (lightweight) 与带有附注的标签 (annotated)<br>tag 不随分支的切换而改变<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># 创建一个轻量级标签</span><br><span class="line">$ git tag v1.0</span><br><span class="line"></span><br><span class="line"># 创建带有附注的标签</span><br><span class="line">$ git tag -a v0.1 -m &quot;version 0.1 released&quot;</span><br><span class="line"></span><br><span class="line"># 查看所有标签</span><br><span class="line">$ git tag</span><br><span class="line"></span><br><span class="line"># 查找标签</span><br><span class="line">$ git tag -l &apos;v1.0&apos;  # 查找 v1.0 标签</span><br><span class="line">$ git tag -l &apos;v*&apos;    # 查找 v 开头的标签（支持正则表达式）</span><br><span class="line"></span><br><span class="line"># 给历史提交的 commit id 打标签</span><br><span class="line">$ git log --pretty=oneline --abbrev-commit # 查看 commit id</span><br><span class="line">$ git tag v0.9 6224937</span><br><span class="line"></span><br><span class="line"># 删除标签</span><br><span class="line">$ git tag -d v1.0 # 删除本地标签</span><br><span class="line"></span><br><span class="line"># 查看标签信息</span><br><span class="line">$ git show v0.9</span><br><span class="line"></span><br><span class="line"># 用 PGP 签名标签</span><br><span class="line">$ git tag -s &lt;tagname&gt; -m &quot;blablabla...&quot;</span><br><span class="line"></span><br><span class="line"># 推送某个标签到远程</span><br><span class="line">$ git push origin v1.0</span><br><span class="line"></span><br><span class="line"># 一次性推送全部尚未推送到远程的本地标签</span><br><span class="line">$ git push origin --tags</span><br><span class="line"></span><br><span class="line"># 删除远程标签</span><br><span class="line">$ git tag -d v0.9 # 删除本地</span><br><span class="line">$ git push origin :refs/tags/v0.9 # 删除远程</span><br></pre></td></tr></table></figure></p>
<h1 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h1><p>push 推送<br>pull 拉取会执行合并 merge pull == fetch+merge<br>远程协作如遇同时修改一个文件，需要先进行 pull 操作，并在本地手动合并修改文件的冲突，然后才能执行 push 操作  </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C &quot;youremail@example.com&quot;</span><br><span class="line"># 测试是否成功</span><br><span class="line">$ ssh -T git@github.com</span><br><span class="line"></span><br><span class="line"># 把一个已有的本地仓库与之关联</span><br><span class="line">$ git remote add origin git@github.com:Windrivder/Windrivder.git</span><br><span class="line"></span><br><span class="line"># 把本地库的所有内容推送到远程库上（推送 master 分支的内容）</span><br><span class="line">$ git push -u origin master</span><br><span class="line"></span><br><span class="line"># 向远程库推送更新</span><br><span class="line">$ git push origin master</span><br><span class="line"></span><br><span class="line"># 从远程库克隆</span><br><span class="line">$ git clone git@github.com:michaelliao/gitskills.git</span><br><span class="line"></span><br><span class="line"># 查看远程库的名称</span><br><span class="line">$ git remote</span><br><span class="line"></span><br><span class="line"># 查看远程 pull 和 push 对象库</span><br><span class="line">$ git remote -v</span><br><span class="line"></span><br><span class="line"># 查看远程库详细信息</span><br><span class="line">$ git remote shwo origin  # origin 为远程库名称</span><br><span class="line"></span><br><span class="line"># 推送其他分支</span><br><span class="line">$ git push origin dev</span><br><span class="line"></span><br><span class="line"># 从远程库 clone，默认情况只能看到 master 分支，需要在 dev 分支，必须创建远程 origin 的 dev 分支到本地</span><br><span class="line">$ git checkout -b dev origin/dev</span><br><span class="line">$ git checkout -b branch-name origin/branch-name</span><br><span class="line">$ git branch --set-upstream branch-name origin/branch-name # 关联</span><br><span class="line"></span><br><span class="line"># 向远程库推送 dev 有冲突</span><br><span class="line">$ git pull # 抓取到本地合并解决冲突，再向远程推送</span><br><span class="line">$ git push origin dev</span><br></pre></td></tr></table></figure>
<h1 id="gitignore"><a href="#gitignore" class="headerlink" title="gitignore"></a>gitignore</h1><p>.gitignore 文件包含要忽略的文件名，这些文件将不纳入版本管理中<br>.gitignore 中的输入支持正则表达式<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 创建.gitignore 文件</span><br><span class="line">$ vi .gitignore</span><br><span class="line"></span><br><span class="line"># 查看.gitignore 文件</span><br><span class="line">$ cat .gitignore</span><br></pre></td></tr></table></figure></p>
<h1 id="自定义-Git"><a href="#自定义-Git" class="headerlink" title="自定义 Git"></a>自定义 Git</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 显示颜色，会让命令输出看起来更醒目</span><br><span class="line">$ git config --global color.ui true</span><br><span class="line"></span><br><span class="line"># 忽略某些文件时，需要编写.gitignore，然后将.gitignore 放到版本库中</span><br><span class="line"># st 就表示 status</span><br><span class="line">$ git config --global alias.st status</span><br><span class="line"></span><br><span class="line"># 配置一个 unstage 别名</span><br><span class="line">$ git config --global alias.unstage &apos;reset HEAD&apos;</span><br><span class="line">$ git unstage test.py # 等价于</span><br><span class="line">$ git reset HEAD test.py</span><br><span class="line"></span><br><span class="line"># 显示最后一次提交信息</span><br><span class="line">$ git config --global alias.last &apos;log -1&apos;</span><br><span class="line"></span><br><span class="line"># log</span><br><span class="line">git config --global alias.lg &quot;log --color --graph --pretty=format:&apos;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&apos; --abbrev-commit&quot;</span><br><span class="line"># 每个仓库的配置文件放在.git/config</span><br><span class="line"># 当前用户的配置文件放在用户主目录下的一个隐藏文件.gitconfig 中</span><br></pre></td></tr></table></figure>
<p>搭建 Git 服务器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">1. 安装 git：</span><br><span class="line"></span><br><span class="line">$ sudo apt-get install git</span><br><span class="line">2. 创建一个 git 用户，用来运行 git 服务：</span><br><span class="line"></span><br><span class="line">$ sudo adduser git</span><br><span class="line">3. 创建证书登录：收集所有需要登录的用户的公钥，就是他们自己的 id_rsa.pub 文件，把所有公钥导入到 /home/git/.ssh/authorized_keys 文件里，一行一个</span><br><span class="line"></span><br><span class="line">4. 初始化 Git 仓库：</span><br><span class="line"></span><br><span class="line"># 选定一个目录作为 Git 仓库，假定是 /srv/sample.git，在 /srv 目录下输入命令</span><br><span class="line"></span><br><span class="line">$ sudo git init --bare sample.git</span><br><span class="line"># 把 owner 改为 git</span><br><span class="line">$ sudo chown -R git:git sample.git</span><br><span class="line">5. 禁用 shell 登录：</span><br><span class="line"></span><br><span class="line"># 编辑 /etc/passwd 文件</span><br><span class="line">git:x:1001:1001:,,,:/home/git:/bin/bash # 修改成下面的内容</span><br><span class="line">git:x:1001:1001:,,,:/home/git:/usr/bin/git-shell</span><br><span class="line">6. 克隆远程仓库，在各自的电脑上运行：</span><br><span class="line"></span><br><span class="line">$ git clone git@server:/srv/sample.git</span><br></pre></td></tr></table></figure></p>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/学习笔记/" rel="tag"># 学习笔记</a>
          
            <a href="/tags/编程/" rel="tag"># 编程</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/12/31/番剧/" rel="next" title="番剧">
                <i class="fa fa-chevron-left"></i> 番剧
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/03/31/AutoCAD笔记/" rel="prev" title="AutoCAD笔记">
                AutoCAD笔记 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Cheng6774</p>
              <p class="site-description motion-element" itemprop="description">This is Cheng's blog</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">13</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#README"><span class="nav-number">1.</span> <span class="nav-text">README</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#基本命令"><span class="nav-number">2.</span> <span class="nav-text">基本命令</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#diff"><span class="nav-number">3.</span> <span class="nav-text">diff</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#分支管理与-stash"><span class="nav-number">4.</span> <span class="nav-text">分支管理与 stash</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#标签管理"><span class="nav-number">5.</span> <span class="nav-text">标签管理</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#远程仓库"><span class="nav-number">6.</span> <span class="nav-text">远程仓库</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#gitignore"><span class="nav-number">7.</span> <span class="nav-text">gitignore</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#自定义-Git"><span class="nav-number">8.</span> <span class="nav-text">自定义 Git</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; 2014 &mdash; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cheng6774</span>

  

  
</div>



<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_pv"></span>
</span>
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Gemini</a> v6.0.6</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.0.6"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.0.6"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.0.6"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.0.6"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.0.6"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.0.6"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.0.6"></script>



  



	





  





  










  





  

  

  

  

  
  

  

  

  

  

</body>
</html>
